"""
Data for testing
"""

POP_ACTIVITY = """
$===================================================
$ Carbon activity data in the fcc phase
$===================================================
CREATE_NEW_EQUILIBRIUM 1 1
CHANGE_STATUS PHASE FCC_A1=FIX 1
CHANGE_STATUS PHASE GRAPHITE=D
SET_REFERENCE_STATE C GRAPHITE,,,,
SET_CONDITION P=101325 T=1273 X(MN)=0.03
SET_CONDITION X(C)=0.03
EXPERIMENT ACR(C)=0.29:5%
LABEL ACTI
"""

POP_DRIVING_FORCE = """
$===================================================
$  DRIVING FORCE CONSTRAINTS   ORT - (ORT+Delta)
$===================================================
$
$
CREATE_NEW_EQUILIBRIUM 5,1
CHANGE_STATUS PHASE *=SUS
CHANGE_STATUS PHASE ORT=FIX 1
CHANGE_STATUS PHASE DEL=DOR
SET_REFERENCE_STATE Ti,HCP,,,,,,
SET_REFERENCE_STATE U,ORT,,,,,,
SET_CONDITION P=102325,T=673
SET_CONDITION X(Ti)=0.03
EXPERIMENT DGMR(ORT)>0:0.001
EXPERIMENT DGMR(DEL)<0:0.001
SET_START_VALUE T=673,X(Ti)=0.03
LABEL ADRIV
"""

POP_ENTROPY = """
$
$===================================================
$ Entropy at 298.15 K of Cu2O
$===================================================
CREATE_NEW_EQUILIBRIUM 1 1
CHANGE_STATUS PHASE CU2O=FIX 1
CHANGE_STATUS PHASE CUO=FIX 0
SET_CONDITION P=101325 T=298.15
EXPERIMENT S=92.36:1
EXPERIMENT ACR(C)=0.29:5%
LABEL AENT
"""

POP_EUTECTOID = """
$----------------------------------------------------------
$       EUTECTOID         BCC(Ti,U) - (Ti)rt + TiU2
$ T=928             X(Ti)=.85
$=========================================================
CREATE_NEW_EQUILIBRIUM 1,1
CHANGE_STATUS PHASE BCC,HCP,DEL=FIX 1
SET_CONDITION P=102325
EXPERIMENT T=928:10
EXPERIMENT X(BCC,Ti)=0.85:0.03
EXPERIMENT X(HCP,Ti)=0.99:0.03
EXPERIMENT X(DEL,Ti) =0.33:0.03
SET_ALTERNATE_CONDITION X(HCP,Ti)=0.99:0.03
SET_ALTERNATE_CONDITION X(DEL,Ti)=0.33:0.03
LABEL AEUO
SET_START_VALUE T=928,X(Ti)=0.85
"""

POP_GIBBS_ENERGY = """
$
$===================================================
$ Gibbs energy of formation of NiAl2O4
$===================================================
CREATE_NEW_EQUILIBRIUM 1 1
CHANGE_STATUS PHASE SPINEL=ENT 1
CHANGE_STATUS PHASE FCC O2GAS=DORM
SET_REFERENCE_STATE NI FCC,,,,
SET_REFERENCE_STATE AL FCC,,,,
SET_REFERENCE_STATE O O2GAS,,,,
SET_CONDITION P=101325 T=1000 N(NI)=1 N(AL)=2
SET_CONDITION N(O)=4
EXPERIMENT GM=-298911:5%
LABEL AGEN
$ -----------
"""

POP_HEAT_CAPACITY = """
$
$===================================================
$ Heat capacity of MgFe2O4
$===================================================
CREATE_NEW_EQUILIBRIUM 1 1
CHANGE_STATUS PHASE SPINEL=ENT 1
SET_CONDITION P=101325 N(FE)=2 N(MG)=1 N(O)=4
SET_CONDITION T=800
ENTER_SYMBOL FUNCTION CP=H.T;
EXPERIMENT CP=207:5%
LABEL ACP
$ -----------
"""

POP_LATTICE_PARAMETER = """
$
$===================================================
$ Lattice parameter for fcc
$===================================================
CREATE_NEW_EQUILIBRIUM 1 1
CHANGE_STATUS PHASE FCC_A1=ENT 1
SET_CONDITION P=101325 N=1 T=298.15
SET_CONDITION X(CR)=0.05
EXPERIMENT LPFCC=4.02:5%
LABEL ALAT
"""

POP_LATTICE_PARAMETER_ABBREVIATED_EXPERIMENT = """
$
$===================================================
$ Lattice parameter for fcc
$===================================================
CREATE_NEW_EQUILIBRIUM 1 1
CHANGE_STATUS PHASE FCC_A1=ENT 1
SET_CONDITION P=101325 N=1 T=298.15
SET_CONDITION X(CR)=0.05
EXP LPFCC=4.02:5%
LABEL ALAT
"""

POP_TABLE_X_HMR = """
$===================================================
$  BCC FORMATION ENTHALPIES X(TI)=0.1 TO 0.6
$===================================================
TABLE_HEAD 540
CREATE_NEW_EQUILIBRIUM @@,1
CHANGE_STATUS PHASE *=SUS
CHANGE_STATUS PHASE BCC_A2=FIXED 1
SET_REFERENCE_STATE U BCC_A2,,,,,,
SET_REFERENCE_STATE Ti BCC_A2,,,,,,
SET_CONDITION  P=102325 T=200
SET_CONDITION X(Ti)=@1
LABEL AHMR1
EXPERIMENT HMR(BCC_A2)=@2:500
TABLE_VALUES
$ X(Ti)        HMR
0.10          2450
0.20          3000
0.30          2990
0.40          2430
0.50          1400
0.60           -65
TABLE_END
$ -----------
"""

POP_TABLE_EXPERIMENT_FIRST_COLUMN = """
TABLE_HEAD 40
CREATE_NEW_EQUILIBRIUM @@,1
CHANGE_STATUS PHASE *=SUS
CHANGE_STATUS PHASE LIQUID=FIX 1
CHANGE_STATUS PHASE BCC=FIX 0
SET_CONDITION P=102325
SET_CONDITION T=@2
EXPERIMENT X(LIQUID,Ti)=@1:0.01
LABEL AREV
SET_START_VALUE X(LIQUID,Ti)=@1
TABLE_VALUES
$ X(Ti)         T
0.00          1406
0.0045        1420
0.01          1445
0.02          1446
0.03          1495
0.04          1563
0.05          1643
0.10          1957
0.15          2093
0.20          2117
0.30          2198
TABLE_END
$----------------------------------------------------------
"""

POP_FROM_PARROT = """

$ *** OUTPUT FROM THERMO-OPTIMIZER MODULE PARROT ***
$ Date 2010. 6.15
$ This output should be possible to use as input to the COMPILE command.
$
$ Note that the following problems remain:
$ 1. Long lines not handeled gracefully
$ 2. Tables for experiments not used
$ 3. Some functions may have to be moved to an equilibria

 ENTER_SYMBOL CONSTANT L21=5837.3631,L22=-2.6370082,L25=4056.0954
 ENTER_SYMBOL CONSTANT L26=1.3646155,
 EXTERNAL L21#21, L22#22, L25#25, L26#26;
 ENTER_SYMBOL FUNCTION DX=X(LIQUID,ZR)-X(BCC_A2#1,ZR) ;
 ENTER_SYMBOL FUNCTION DY1=X(LIQUID,ZR).T ;
 ENTER_SYMBOL FUNCTION DY2=X(LIQUID,ZR).T ;
 ENTER_SYMBOL FUNCTION DY3=X(LIQUID,ZR).T ;
 ENTER_SYMBOL FUNCTION DY4=X(LIQUID,ZR).T ;
 ENTER_SYMBOL FUNCTION DY5=X(LIQUID,ZR).T ;
 ENTER_SYMBOL FUNCTION DY6=X(LIQUID,ZR).T ;
 ENTER_SYMBOL FUNCTION DY7=X(LIQUID,ZR).T ;
 $ -----------
 CREATE_NEW_EQUIL 108, 0
 CHANGE_STATUS COMPONENT VA NP ZR =ENTERED
 SET_REFERENCE_STATE NP ORTHO_AC *  100000
 SET_REFERENCE_STATE ZR HCP_A3 *  100000
 CHANGE_STATUS PHASE TETRAG_AD#1=DORMANT
 CHANGE_STATUS PHASE DELTA =FIXED 0
 CHANGE_STATUS PHASE HCP_A3=FIXED 1
 SET_CONDITION  P=102325 T=573
 SET_WEIGHT 2,,,
 EXPERIMENT X(HCP_A3,ZR)=0.988:1E-2
 EXPERIMENT DGMR(TETRAG_AD#1)<0:1E-2
 SET_START_VAL Y(DELTA,NP)=0.34172  Y(DELTA,ZR)=0.65828
 SET_START_VAL Y(HCP_A3,NP)=1.1121E-2 Y(HCP_A3,ZR)=0.98888
 SET_START_VAL Y(TETRAG_AD#1,NP)=0.96637 Y(TETRAG_AD#1,ZR)=3.3633E-2
 $ -----------

 SAVE
 """

WORKING_MG_NI_POP = """
$ note that this has some of the original equilibria with complex conditions removed.

E-SYM CON P0=1E5 R0=8.314

@@ THERMOCHEMICAL DATA IN LIQUID
@@ 100-300

TABLE 100
C-N @@,1
CH P LIQ=F 1
S-R-S MG LIQ,,,,,
S-C T=1073, P=P0, X(NI)=@1
LABEL ALA1
EXPERIMENT ACR(MG)=@2:5%
TABLE_VALUE
 0.20230        0.771
 0.22600        0.722
 0.25400        0.672
 0.28390        0.623
 0.18470        0.746
 0.20840        0.710
 0.23580        0.667
 0.25950        0.626
 0.28900        0.570
 0.21590        0.709
 0.24690        0.656
 0.28040        0.600
 0.19450        0.740
 0.22560        0.681
 0.25880        0.635
 0.28950        0.577
 0.32410        0.519
 0.15000        0.822
 0.17210        0.787
 0.19280        0.748
 0.21300        0.708
 0.23170        0.678
 0.25270        0.640
 0.27040        0.607
 0.29050        0.577
 0.31020        0.550
 0.34380        0.506
TABLE_END

EN-SYM FUN HMRT=HMR/1000;
TABLE 200
C-N @@,1
CH P LIQ=F 1
S-R-S MG LIQ,,,,,
S-R-S NI LIQ,,,,,
S-C T=1005, P=P0, X(NI)=@1
EXPERIMENT HMRT=@2:10%
LABEL ALA2
TABLE_VALUE
 0.04800       -2.880
 0.10200       -5.780
 0.15300       -8.010
 0.05300       -3.080
 0.09900       -5.490
 0.14600       -7.330
 0.19400       -9.170
 0.02700       -1.620
 0.05600       -3.200
 0.08500       -4.620
 0.05100       -3.220
 0.10500       -5.820
 0.15700       -7.940
TABLE_END

ent fun ph1=(hmr+hmr.x(ni)-x(ni)*hmr.x(ni))/1000;
TABLE 300
C-N @@,1
CH P LIQ=F 1
S-R-S MG LIQ,,,,,
S-R-S NI LIQ,,,,,
S-C T=1005, P=P0, X(NI)=@1
EXPERIMENT PH1=@2:10%
LABEL ALA3
TABLE_VALUE
 0.02400      -60.360
 0.07500      -53.410
 0.12800      -44.960
 0.02700      -57.860
 0.07600      -52.630
 0.12200      -41.420
 0.17000      -39.540
 0.01300      -61.030
 0.04100      -54.390
 0.07000      -48.550
 0.02500      -63.440
 0.07800      -48.580
 0.13100      -42.170
TABLE_END

@@ WE NOW DEAL WITH 2 PHASE EQUILIBRIA
@@ LIQ-FCC, LIQ-HCP_A3
@@ REFERENCE
@@ 1000-

TABLE 1000
C-N @@,1
CH P LIQ HCP_A3=F 1
S-C T=@1, P=P0
EXPERIMENT X(LIQ,NI)=@2:5%
EXPERIMENT X(HCP_A3,NI)<0.01:1E-2
S-S-V X(HCP_A3,NI)=1E-3
LABEL ALHC
TABLE_VALUE
900.7 .0235
869.4 .052
836.8 .0741
812.1 .0938
781.0 .1129
TABLE_END


TABLE 1100
C-N @@,1
CH P LIQ FCC=F 1
S-C T=@1, P=P0
EXPERIMENT X(LIQ,NI)=@2:5%
EXPERIMENT X(FCC,NI)>0.98:1E-2
S-S-V X(FCC,NI)=0.9999
LABEL ALFC
TABLE_VALUE
1428 .8265
1545 .8872
1708 .9762
TABLE_END



@@NOW DEAL WITH THE EUTECTIC POINT ON THE NI RICH END
C-N 2,1
CH P LIQ,MGNI2,FCC=F 1
S-C P=P0
EXPERIMENT T=1370:2
EXPERIMENT X(LIQ,NI)=0.803:5%
LABEL AIEU




@@THIS THEN DEALS WITH THE TWO PHASE EQUILIBRIA IN L+MGNI2
TABLE 2000
C-N @@,1
CH P LIQ MGNI2=F 1
S-C X(LIQ,NI)=@2, P=P0
EXPERIMENT T=@1:5
LABEL ALM2
TABLE_VALUE
1054.4 .3004
1140.4 .3298
1163.9 .3388
1345 .3832
1385 .4347
1412 .4914
1418 .554
1417 .6236
1418 .6536
1413 .7012
1370 .7349
TABLE_END


@@ THIS DEALS WITH THE PERITECTIC MG2NI REACTION
C-N 10,1
CH P LIQ,MGNI2,MG2NI=F 1
S-C P=P0
EXPERIMENT T=1033:2
EXPERIMENT X(LIQ,NI)=0.29:5%
LABEL APER


@@THIS THEN TAKES CARE OF THE EUTECTIC ON THE MG RICH END
C-N 11,1
CH P LIQ,HCP_A3,MG2NI=F 1
S-C P=P0
EXPERIMENT T=779:2
EXPERIMENT X(LIQ,NI)=0.113:5%
LABEL AEMG

@@THE FOLLOWING TABLE TAKES CARE OF THE LIQUID MG2NI TWO PHASE
@@EQUILIBIA
TABLE 3000
C-N @@,1
CH P LIQ MG2NI=F 1
S-C X(LIQ,NI)=@2, P=P0
EXPERIMENT T=@1:5
LABEL AM2N
TABLE_VALUE
834.2 .1236
879.9 .1393
917.6 .1563
960.6 .1836
994.5 .2192
1012.7 .2395
1023.2 .2662
TABLE_END


@@ STABILITY EQUILIBRIA RESTRICTIONS
TABLE 4000
C-N @@,1
CH P FCC MGNI2=F 1
CH P MG2NI=D
S-C T=@1, P=P0
EXPERIMENT DGM(MG2NI)<0:1E-2
LABEL AST1
TABLE_VALUE
1300
1200
1100
1000
900
800
700
600
500
400
300
200
TABLE_END

TABLE 5000
C-N @@,1
CH P HCP_A3 MG2NI=F 1
CH P MGNI2=D
S-C T=@1, P=P0
EXPERIMENT DGM(MGNI2)<0:1E-2
LABEL AST2
TABLE_VALUE
700
600
500
400
300
200
TABLE_END

E-SY FUNCTION GLDD=MU(NI).X(NI);
TABLE 6000
C-N @@,1
CH P LIQ=F 1
S-C T=2500, P=P0, X(NI)=@1
EXPERIMENT GLDD>0:1E-2
LABEL ALDD
TABLE_VALUE
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
TABLE_END

SAVE
"""

POP_CONDITION_EXPRESSIONS = """
$ from Mg-Ni example

ENT-SYM CONST P0=101325

@@NOW THE ENTHALPY OF FORMATION OF MGNI2
C-N 3,1
CH P MGNI2=F 1
S-C P=P0 T=298.15 3*X(MG)=1
EXPERIMENT H=-59000:500
LABEL AENF

C-N 12,1
CH P MG2NI=F 1
S-C P=P0 T=298.15 3*X(MG)=2
EXPERIMENT H=-40000:500
LABEL AENF

E-SYM FUN CPM2N=H.T;
TABLE 1200
C-N @@,1
CH P MG2NI=F 1
S-C T=@1, P=P0, 3*X(MG)=2
EXPERIMENT CPM2N=@2:2%
LABEL AM2C
TABLE_VALUE
3.35000E+0002 7.06800000E+0001
3.45000E+0002 7.12500000E+0001
3.55000E+0002 7.16400000E+0001
3.65000E+0002 7.19400000E+0001
3.75000E+0002 7.28100000E+0001
3.85000E+0002 7.29900000E+0001
3.95000E+0002 7.31700000E+0001
4.05000E+0002 7.36800000E+0001
4.15000E+0002 7.41600000E+0001
4.25000E+0002 7.44600000E+0001
4.35000E+0002 7.45200000E+0001
4.45000E+0002 7.51500000E+0001
4.55000E+0002 7.51200000E+0001
4.65000E+0002 7.52700000E+0001
4.75000E+0002 7.53600000E+0001
4.85000E+0002 7.59300000E+0001
4.95000E+0002 7.62600000E+0001
5.05000E+0002 7.62300000E+0001
5.15000E+0002 7.67400000E+0001
5.25000E+0002 7.68600000E+0001
5.35000E+0002 7.68000000E+0001
5.45000E+0002 7.68300000E+0001
5.55000E+0002 7.71900000E+0001
5.65000E+0002 7.74300000E+0001
5.75000E+0002 7.74900000E+0001
5.85000E+0002 7.77900000E+0001
5.95000E+0002 7.80900000E+0001
6.05000E+0002 7.82100000E+0001
6.15000E+0002 7.85700000E+0001
6.25000E+0002 7.86300000E+0001
6.35000E+0002 7.84500000E+0001
6.45000E+0002 7.90800000E+0001
6.55000E+0002 7.89900000E+0001
6.65000E+0002 7.89900000E+0001
6.75000E+0002 7.92000000E+0001
6.85000E+0002 7.95600000E+0001
6.95000E+0002 7.96200000E+0001
TABLE_END

"""

POP_COMPLEX_CONDITIONS = """
ENT-SYM CONST P0=101325

@@NOW DEAL WITH THE CONGRUENT MELTING OF MGNI2
@@ LIQ-MGNI2
@@ REFERENCE
C-N 1,1
CH P LIQ,MGNI2=F 1
S-C P=P0, X(LIQ,MG)-X(MGNI2,MG)=0
EXPERIMENT T=1420:3
LABEL ACM

"""
